(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={item:"ContactsItem_item__3zWh0",span:"ContactsItem_span__fhIsl",text:"ContactsItem_text__1rYQP",button:"ContactsItem_button__2mjtH",button_edit:"ContactsItem_button_edit__1-kC1"}},19:function(t,e,n){t.exports={input:"Form_input__28m9x",button:"Form_button__2GsM6"}},25:function(t,e,n){t.exports={enter:"Phonebook_enter__W6mqQ",enterActive:"Phonebook_enterActive__2GgsA",exit:"Phonebook_exit__2VfGk",exitActive:"Phonebook_exitActive__1GHQj",appear:"Phonebook_appear__265zS",appearActive:"Phonebook_appearActive__1Xk1o"}},28:function(t,e,n){t.exports={enter:"Contacts_enter__kzTGe",enterActive:"Contacts_enterActive__1FT_U",exit:"Contacts_exit__3k5Fy",exitActive:"Contacts_exitActive__2hGMg",ul:"Contacts_ul__1xj8G"}},45:function(t,e,n){t.exports={container:"Section_container__3qas_",appear:"Section_appear__2INuo",appearActive:"Section_appearActive__26HQr"}},46:function(t,e,n){t.exports={input:"Find_input__1LIRT",button:"Find_button__3bLPg"}},77:function(t,e,n){},78:function(t,e,n){"use strict";n.r(e);var c=n(1),a=n(0),r=n(3),o=n(79),s=n(25),i=n.n(s),u=n(40);function b(){var t=Object(u.a)(["\n    width: 300px;\n    height: 80px;\n    background-color: tomato;\n    position: absolute;\n    border-radius: 5px;\n    top: 0;\n    right: 0;\n    opacity: 0.8;\n    p {\n        font-size: 25px;\n        padding: 10px;\n        text-align: center;\n    }\n"]);return b=function(){return t},t}var j,l=n(41).a.div(b()),d=function(){return Object(c.jsx)(l,{children:Object(c.jsx)("p",{children:"ALL FIELDS MUST BE FILLED!"})})},O=function(){return Object(c.jsx)(l,{children:Object(c.jsx)("p",{children:"IS ALREADY IN USE!"})})},p=n(8),f=n(18),h=n(2),m=n(19),x=n.n(m),_=n(9),v=Object(_.b)("@contact/addNewContact"),g=Object(_.b)("@contact/getAllContacts"),k=Object(_.b)("@contact/deleteContact"),C=Object(_.b)("@contact/editContact"),y=Object(_.b)("@contact/setFilter"),A=Object(_.b)("@contact/setAlert,"),w=Object(_.b)("@contact/setLoading"),E=Object(_.b)("@contact/setLError"),N=n(10),F=n.n(N),I=n(20),L=n(21),P=n.n(L),S={name:"",number:""},U=function(t){var e=t.data,n=void 0===e?Object(h.a)({},S):e,o=t.isEdit,s=void 0!==o&&o,i=t.closeForm,u=Object(a.useState)(Object(h.a)({},n)),b=Object(f.a)(u,2),j=b[0],l=b[1],d=Object(r.b)(),O=Object(r.c)((function(t){return t.reducerContacts.loading})),m=Object(r.c)((function(t){return t.reducerContacts.showUsedAlert})),_=Object(r.c)((function(t){return t.reducerContacts.showEmptyAlert}));Object(a.useEffect)((function(){(m||_)&&setTimeout((function(){return d(A(),2500)}))}));var g=function(t){var e=t.target,n=e.name,c=e.value;l((function(t){return Object(h.a)(Object(h.a)({},t),{},Object(p.a)({},n,c))}))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("form",{onSubmit:function(t){var e,n;t.preventDefault(),s?(i(!1),d((n=j,function(){var t=Object(I.a)(F.a.mark((function t(e){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w()),t.prev=1,t.next=4,P.a.put("".concat("https://phonebook-07-57ff7-default-rtdb.firebaseio.com/","/contacts/").concat(n.id,".json"),n);case 4:e(C(n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),e(E(t.t0));case 10:return t.prev=10,e(w()),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[1,7,10,13]])})));return function(e){return t.apply(this,arguments)}}()))):d((e=j,function(){var t=Object(I.a)(F.a.mark((function t(n,c){var a;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,P.a.post("".concat("https://phonebook-07-57ff7-default-rtdb.firebaseio.com/","/contacts.json"),e);case 4:a=t.sent,n(v(Object(h.a)(Object(h.a)({},e),{},{id:a.data.name}))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),n(E(t.t0));case 11:return t.prev=11,n(w()),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})));return function(e,n){return t.apply(this,arguments)}}())),l(Object(h.a)({},S))},children:[Object(c.jsxs)("label",{children:["Name",Object(c.jsx)("input",{type:"text",name:"name",className:x.a.input,placeholder:"Name",value:j.name,onChange:g})]}),Object(c.jsxs)("label",{children:["Number",Object(c.jsx)("input",{type:"text",name:"number",className:x.a.input,placeholder:"Number",value:j.number,onChange:g})]}),O?Object(c.jsx)("h2",{children:"Loading..."}):Object(c.jsx)("button",{className:x.a.button,type:"submit",children:s?"Edit Contact":" Add contact"}),s&&Object(c.jsx)("button",{className:x.a.button,type:"button",onClick:function(){i(!1)},children:"Close"})]})})},G=function(t){var e=t.title;return Object(c.jsx)("header",{style:{textAlign:"center"},children:Object(c.jsx)("h1",{children:e})})},T=n(45),z=n.n(T),D=function(t){var e=t.children,n=t.title;return Object(c.jsxs)("section",{className:z.a.container,children:[n&&Object(c.jsx)("h2",{children:n}),e]})},H=n(12),M=n.n(H),Q=function(t){var e=t.id,n=t.name,a=t.number,r=t.onRemove,o=t.onEdit;return Object(c.jsxs)("li",{className:M.a.item,children:[Object(c.jsx)("span",{className:M.a.span,children:"\u221a"}),Object(c.jsx)("p",{className:M.a.text,children:n}),Object(c.jsx)("p",{className:M.a.text,children:a}),Object(c.jsx)("button",{id:e,type:"button",className:M.a.button_edit,onClick:o,children:"Edit"}),Object(c.jsx)("button",{id:e,type:"button",className:M.a.button,onClick:r})]})},R=n(80),W=n(28),q=n.n(W),B=function(){var t=Object(a.useState)(!1),e=Object(f.a)(t,2),n=e[0],s=e[1],i=Object(a.useState)({}),u=Object(f.a)(i,2),b=u[0],j=u[1],l=Object(r.b)(),d=Object(r.c)((function(t){return t.reducerContacts.contacts.filter((function(e){return e.name.toLowerCase().includes(t.reducerContacts.filter.toLowerCase())}))})),O=function(t){var e=t.target.id;l(function(t){return function(){var e=Object(I.a)(F.a.mark((function e(n){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(w()),e.prev=1,e.next=4,P.a.delete("".concat("https://phonebook-07-57ff7-default-rtdb.firebaseio.com/","/contacts/").concat(t,".json"));case 4:n(k(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(E(e.t0));case 10:return e.prev=10,n(w()),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[1,7,10,13]])})));return function(t){return e.apply(this,arguments)}}()}(e))},p=function(t){s(!0);var e=t.target.id;j(Object(h.a)({},d.find((function(t){return t.id===e}))))};return Object(c.jsxs)(c.Fragment,{children:[n&&Object(c.jsx)(U,{data:b,isEdit:!0,closeForm:s}),Object(c.jsx)(R.a,{component:"ul",className:q.a.ul,children:d.map((function(t){var e=t.name,n=t.number,a=t.id;return Object(c.jsx)(o.a,{timeout:250,classNames:q.a,children:Object(c.jsx)(Q,{name:e,number:n,id:a,onRemove:O,onEdit:p},a)},a)}))})]})},J=n(46),Y=n.n(J),V=function(){var t=Object(r.c)((function(t){return t.reducerContacts.filter})),e=Object(r.b)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("input",{type:"text",className:Y.a.input,placeholder:"Find contacts by name",value:t,onChange:function(t){var n=t.target.value;e(y(n))}})})},X=function(){var t=Object(r.b)();Object(a.useEffect)((function(){t(function(){var t=Object(I.a)(F.a.mark((function t(e){var n,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w()),t.prev=1,t.next=4,P.a.get("".concat("https://phonebook-07-57ff7-default-rtdb.firebaseio.com/","/contacts.json"));case 4:n=t.sent,c=Object.keys(n.data).map((function(t){return Object(h.a)(Object(h.a)({},n.data[t]),{},{id:t})})),e(g(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(E(t.t0));case 12:return t.prev=12,e(w()),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[1,9,12,15]])})));return function(e){return t.apply(this,arguments)}}())}),[]);var e=Object(r.c)((function(t){return t.reducerContacts.contacts})),n=Object(r.c)((function(t){return t.reducerContacts.showUsedAlert})),s=Object(r.c)((function(t){return t.reducerContacts.showEmptyAlert}));return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(o.a,{in:!0,appear:!0,classNames:i.a,timeout:500,unmountOnExit:!0,children:Object(c.jsx)(G,{title:"Home Work #2 Phonebook"})}),Object(c.jsx)(D,{title:"Phonebook",children:Object(c.jsx)(U,{})}),e.length>1&&Object(c.jsx)(D,{title:"Finder contacts",children:Object(c.jsx)(V,{})}),e.length>0||Object(c.jsx)(D,{title:"Phonebook is empty. Please add contact"}),e.length>0&&Object(c.jsx)(D,{title:"My Contacts",children:Object(c.jsx)(B,{})}),Object(c.jsx)(o.a,{in:s,timeout:250,classNames:i.a,unmountOnExit:!0,children:Object(c.jsx)(d,{})}),Object(c.jsx)(o.a,{in:n,timeout:250,classNames:i.a,unmountOnExit:!0,children:Object(c.jsx)(O,{})})]})},K=function(){return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(X,{})})},Z=n(11),$=n.n(Z),tt=(n(77),n(7)),et=n(22),nt=Object(_.c)(Object(h.a)({},{contacts:[],filter:"",showEmptyAlert:!1,showUsedAlert:!1,loading:!1,setError:""}),(j={},Object(p.a)(j,v,(function(t,e){return t.contacts.some((function(t){return t.name===e.payload.name}))?Object(h.a)(Object(h.a)({},t),{},{showUsedAlert:!t.showUsedAlert}):e.payload.name.length?Object(h.a)(Object(h.a)({},t),{},{contacts:[].concat(Object(et.a)(t.contacts),[e.payload])}):Object(h.a)(Object(h.a)({},t),{},{showEmptyAlert:!t.showEmptyAlert})})),Object(p.a)(j,g,(function(t,e){return Object(h.a)(Object(h.a)({},t),{},{contacts:Object(et.a)(e.payload)})})),Object(p.a)(j,k,(function(t,e){return Object(h.a)(Object(h.a)({},t),{},{contacts:Object(et.a)(t.contacts.filter((function(t){return t.id!==e.payload})))})})),Object(p.a)(j,C,(function(t,e){return Object(h.a)(Object(h.a)({},t),{},{contacts:Object(et.a)(t.contacts.map((function(t){return t.id===e.payload.id?Object(h.a)({},e.payload):t})))})})),Object(p.a)(j,y,(function(t,e){return Object(h.a)(Object(h.a)({},t),{},{filter:e.payload})})),Object(p.a)(j,A,(function(t){return Object(h.a)(Object(h.a)({},t),{},{showEmptyAlert:!1,showUsedAlert:!1})})),Object(p.a)(j,w,(function(t){return Object(h.a)(Object(h.a)({},t),{},{loading:!t.loading})})),Object(p.a)(j,E,(function(t){return Object(h.a)(Object(h.a)({},t),{},{setError:t.payload})})),j)),ct=Object(tt.c)({reducerContacts:nt}),at=Object(_.a)({reducer:ct});$.a.render(Object(c.jsx)(r.a,{store:at,children:Object(c.jsx)(K,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.64a96072.chunk.js.map